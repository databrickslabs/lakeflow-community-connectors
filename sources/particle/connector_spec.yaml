# particle Community Connector Spec
# This file defines the specification for the connector including
# connection parameters and allowlist options.

# ============================================================================
# Connection Parameters
# These are provided when creating the Unity Catalog connection.
# ============================================================================
connection:
  auth_methods:
    - name: access_token
      description: >
        Authenticate using a pre-generated Particle access token.
        This is the simplest method - obtain token from Particle Console.
      parameters:
        - name: access_token
          type: string
          required: true
          description: >
            Particle access token for API authentication.
            Obtain from Particle Console (Settings > Access Tokens).

    - name: oauth_password
      description: >
        Authenticate using Particle account credentials.
        The connector will automatically generate an access token via OAuth.
      parameters:
        - name: username
          type: string
          required: true
          description: >
            Particle account email address.

        - name: password
          type: string
          required: true
          description: >
            Particle account password.

  common_parameters:
    - name: base_url
      type: string
      required: false
      description: >
        Base URL for the Particle API. Override if using a custom instance.
        Defaults to https://api.particle.io if not specified.

    - name: token_cache_file
      type: string
      required: false
      description: >
        Optional file path to cache generated OAuth tokens.
        Improves performance by avoiding repeated token generation.
        Only applicable when using oauth_password authentication.

# ============================================================================
# External Options Allowlist
# These table-specific options must be included in the externalOptionsAllowList
# parameter of the UC connection to allow them to be passed through.
# Use a comma-separated string of option names.
# If no table-specific options are needed, set to empty string or omit.
# ============================================================================
external_options_allowlist: "product_id_or_slug,device_id,iccid,groups,device_name,serial_number,sort_attr,sort_dir,per_page,max_pages,start_date,end_date"
